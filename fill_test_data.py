#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
–ó–∞–ø–æ–ª–Ω—è–µ—Ç: –∑–∞—è–≤–∫–∏, –æ–±—Ä–∞—â–µ–Ω–∏—è, –æ—Ç–∑—ã–≤—ã, –∞—Ä—Ö–∏–≤
–ö—É—Ä—Å—ã –Ω–µ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è (—É–∂–µ –µ—Å—Ç—å –≤ –ë–î)
"""

import sqlite3
import datetime
import random
from data.db import get_connection, init_db
from config import ADMIN_ID

def fill_test_data():
    """–ó–∞–ø–æ–ª–Ω—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏"""
    
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ë–î
    init_db()
    
    with get_connection() as conn:
        cursor = conn.cursor()
        
        print("üóÑÔ∏è –ó–∞–ø–æ–ª–Ω—è–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏...")
        
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–π ADMIN_ID –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö ID

        # === –û–¢–ó–´–í–´ (reviews) ===
        print("‚≠ê –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã...")
        
        test_reviews = [
            # ID, application_id, user_tg_id, rating, feedback, is_anonymous, created_at
            (1, 1, "999888777", 9, "–û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å! –†–µ–±—ë–Ω–æ–∫ —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π. –û–±—ä—è—Å–Ω—è–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ.", 0, "2024-01-05 15:30:00"),
            (2, 2, "888777666", 10, "–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è! –î–æ—á—å —Ç–µ–ø–µ—Ä—å –ª—é–±–∏—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫. –°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥!", 0, "2024-01-06 16:30:00"),
            (3, 3, "777666555", 8, "–•–æ—Ä–æ—à–∏–µ –∑–∞–Ω—è—Ç–∏—è –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É. –†–µ–±—ë–Ω–æ–∫ —Å—Ç–∞–ª –ª—É—á—à–µ –ø–∏—Å–∞—Ç—å –∏ —á–∏—Ç–∞—Ç—å.", 0, "2024-01-07 17:30:00"),
            (4, 5, "555444333", 9, "–ê–Ω–æ–Ω–∏–º–Ω—ã–π –æ—Ç–∑—ã–≤: –æ—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω –∫–∞—á–µ—Å—Ç–≤–æ–º –æ–±—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É.", 1, "2024-01-08 18:30:00"),
            (5, 7, "333222111", 10, "–õ—É—á—à–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏! –°—ã–Ω —Ç–µ–ø–µ—Ä—å —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á–∏ —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º.", 0, "2024-01-09 19:30:00"),
            (6, 9, "111000999", 7, "–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É. –†–µ–±—ë–Ω–æ–∫ –ø–æ–¥—Ç—è–Ω—É–ª—Å—è –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É.", 0, "2024-01-10 20:30:00")
        ]
        
        cursor.executemany("""
            INSERT OR REPLACE INTO reviews 
            (id, application_id, user_tg_id, rating, feedback, is_anonymous, created_at)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, test_reviews)
        
        conn.commit()
        
        print("‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!")
        print(f"üë§ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤–∞—à ADMIN_ID: {ADMIN_ID}")
        print("\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:")
        print(f"‚≠ê –û—Ç–∑—ã–≤—ã: {len(test_reviews)}")
        print("\nüéØ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞!")
        print("üí° –û—à–∏–±–∫–∏ 'chat not found' –±—É–¥—É—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö ID, –Ω–æ –Ω–µ –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ ID")

if __name__ == "__main__":
    try:
        fill_test_data()
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: {e}")
        import traceback
        traceback.print_exc() 